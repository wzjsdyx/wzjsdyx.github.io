---
title: 单周期CPU数据通路设计
date: 2024-03-24 21:37:56
categories:
- CPU设计实战
tags:
- 单周期CPU数据通路
---

# 添加BEQ和BNE数据通路



# 添加JAL数据通路



# 添加SLT和SLTU数据通路

- SLT（set on less than），`有符号比较`
- SLTU（set on less than），`无符号比较`

{% asset_img image-20240324215129196.png %}

和之前的数据通路相比，不一致的地方



`加法器的两个要点：`

- 减法运算和加法运算

- 有符号运算和无符号运算



<font color=red>TBD：两数相加会有溢出，两数相减会有符号溢出吗？</font>

- 有符号加减法溢出？都会有溢出情况

- 无符号加减法溢出？都会有溢出情况



# 添加SLL、SRL、SRA数据通路

> 说明：
> 关于MIPS指令的移位操作，有左移和右移两种：
>
> - 右移，有逻辑右移和算术右移
> - 左移，只有逻辑左移，因为本质上逻辑左移和算数左移都是相同的运算
> 有些指令集有算数左移，是为了指令集的一致性和完整性，
> MIPS指令集并未做区分
>
> 分析：
> 1、源操作数：三条指令的源操作数均有两个，两个来自寄存器堆的rt，一个来自指令码中的sa域
> 2、目的操作数：结果写入寄存器堆的rd项
> 3、运算方式：从rt取数据，然后完成移位运算，最后写入rd；
> 读取寄存器堆的rt项和写入寄存器堆的rd项的通路都是存在的，可以复用；
> 需要添加移位运算数据通路

{% asset_img 添加SLL_SRL_SRA数据通路.png %}

